## Простое приложения для получения вебхуков из amoCRM на Mezzio

1. Для начала работы выполняем команду для загрузки зависимостей composer

```bash
$ composer install
```
___

2. Собираем контейнер 
```bash
$ docker build -t application-backend .
```
___
3. Запускаем контейнер
```bash
$ docker-compose up -d
```
___
4. После сборки и запуска контейнера необходимо выполнить запуск миграций. 
Запуск миграций выполняется из контейнера application-backend
```bash
$ docker exec -it application-backend sh
```
```bash
$ vendor/bin/phpmig migrate
```
___
5. Таблицы будут созданы в БД app_db. 
В случае если данной БД нет, то ее необходимо создать из контейнера application-mysql
___
6. После выполнения миграций необходимо выполнить команду на запуск воркера из контейнера application-backend
```bash
$ vendor/bin/laminas app:webhook-queue-worker
```
___

7. Важно, что все вебхуки которые не пройдут валидацию, будут созданы в таблице ``error``. 
Данную логику вы можете изменить самостоятельно
___
8. Существует файл `.env.example` его необходимо переименовать в ``.env`` в нем указаны дефолтные параметры для подключения БД